<!DOCTYPE html>
<html lang="vi">
    <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>WordPress Local and Debugging - w41bu1</title><meta name="Description" content="A powerful and the most popular content management system (CMS)."><meta property="og:url" content="http://localhost:1313/vi/2025-08-21-wordpress-local-and-debugging/">
  <meta property="og:site_name" content="w41bu1">
  <meta property="og:title" content="WordPress Local and Debugging">
  <meta property="og:description" content="A powerful and the most popular content management system (CMS).">
  <meta property="og:locale" content="vi">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-08-21T09:00:00+07:00">
    <meta property="article:modified_time" content="2025-08-21T09:00:00+07:00">
    <meta property="article:tag" content="Cms">
    <meta property="article:tag" content="Php">
    <meta property="article:tag" content="Wordpress">
    <meta property="og:image" content="http://localhost:1313/logo.png">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="http://localhost:1313/logo.png">
  <meta name="twitter:title" content="WordPress Local and Debugging">
  <meta name="twitter:description" content="A powerful and the most popular content management system (CMS).">
<meta name="application-name" content="LoveIt">
<meta name="apple-mobile-web-app-title" content="LoveIt">
<meta name="referrer" content="no-referrer" /><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="http://localhost:1313/vi/2025-08-21-wordpress-local-and-debugging/" /><link rel="prev" href="http://localhost:1313/vi/2025-08-19-github-pages-with-jekyll-themes-and-giscus/" /><link rel="next" href="http://localhost:1313/vi/2025-09-21-cve-2025-39566/" /><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" href="/lib/fontawesome-free/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="/lib/fontawesome-free/css/all.min.css"></noscript><link rel="preload" href="/lib/animate/animate.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="/lib/animate/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "WordPress Local and Debugging",
        "inLanguage": "vi",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "http:\/\/localhost:1313\/vi\/2025-08-21-wordpress-local-and-debugging\/"
        },"image": ["http:\/\/localhost:1313\/images\/Apple-Devices-Preview.png"],"genre": "posts","keywords": "cms, php, wordpress","wordcount":  1610 ,
        "url": "http:\/\/localhost:1313\/vi\/2025-08-21-wordpress-local-and-debugging\/","datePublished": "2025-08-21T09:00:00+07:00","dateModified": "2025-08-21T09:00:00+07:00","license": "Tác phẩm này được cấp phép theo Giấy phép Creative Commons Ghi công - Phi thương mại 4.0 Quốc tế.","publisher": {
            "@type": "Organization",
            "name": "w41bu1","logo": {
                    "@type": "ImageObject",
                    "url": "http:\/\/localhost:1313\/images\/avatar.jpeg",
                    "width":  736 ,
                    "height":  736 
                }},"author": {
                "@type": "Person",
                "name": "w41bu1"
            },"description": "A powerful and the most popular content management system (CMS)."
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script>
          const query = window.matchMedia('(prefers-color-scheme: dark)');
          function applyTheme() {
            let theme = window.localStorage?.getItem('theme') || 'auto';
            let isDark = theme === 'dark' || (theme === 'auto' && query.matches);
            document.body.setAttribute('theme', isDark? 'dark' : 'light');
            document.body.setAttribute('cfg-theme', theme);
          }

          applyTheme();
          query.addEventListener('change', applyTheme);
        </script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/vi/" title="w41bu1"><span class="header-title-pre"><i class='fa-solid fa-bug fa-fw' aria-hidden='true'></i></span>w41bu1</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/vi/posts/"> Posts </a><a class="menu-item" href="/vi/tags/"> Tags </a><a class="menu-item" href="/vi/categories/"> Categories </a><a class="menu-item" href="/vi/categories/documentation/"> Docs </a><a class="menu-item" href="/vi/about/"> About </a><a class="menu-item" href="https://github.com/dillonzq/LoveIt" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw' aria-hidden='true'></i>  </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="Tìm kiếm..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="Tìm kiếm">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="Xoá">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="Đổi chủ đề">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a><a href="javascript:void(0);" class="menu-item language" title="Chọn Ngôn ngữ">
                    <i class="fa fa-globe fa-fw" aria-hidden="true"></i>                      
                    <select class="language-select" id="language-select-desktop" onchange="location = this.value;"><option value="/2025-08-21-wordpress-local-and-debugging/">English</option><option value="/vi/2025-08-21-wordpress-local-and-debugging/" selected>Vietnamese</option></select>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/vi/" title="w41bu1"><span class="header-title-pre"><i class='fa-solid fa-bug fa-fw' aria-hidden='true'></i></span>w41bu1</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="Tìm kiếm..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="Tìm kiếm">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="Xoá">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        Huỷ
                    </a>
                </div><a class="menu-item" href="/vi/posts/" title="">Posts</a><a class="menu-item" href="/vi/tags/" title="">Tags</a><a class="menu-item" href="/vi/categories/" title="">Categories</a><a class="menu-item" href="/vi/categories/documentation/" title="">Docs</a><a class="menu-item" href="/vi/about/" title="">About</a><a class="menu-item" href="https://github.com/dillonzq/LoveIt" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw' aria-hidden='true'></i></a><a href="javascript:void(0);" class="menu-item theme-switch" title="Đổi chủ đề">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a><a href="javascript:void(0);" class="menu-item" title="Chọn Ngôn ngữ">
                    <i class="fa fa-globe fa-fw" aria-hidden="true"></i>
                    <select class="language-select" onchange="location = this.value;"><option value="/2025-08-21-wordpress-local-and-debugging/">English</option><option value="/vi/2025-08-21-wordpress-local-and-debugging/" selected>Vietnamese</option></select>
                </a></div>
    </div>
</header><div class="search-dropdown desktop">
        <div id="search-dropdown-desktop"></div>
    </div>
    <div class="search-dropdown mobile">
        <div id="search-dropdown-mobile"></div>
    </div><main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Nội dung</h2>
            <div class="toc-content always-active" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">WordPress Local and Debugging</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="https://w41bu1.github.io" title="Author" target="_blank" rel="noopener noreffer author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>w41bu1</a></span>&nbsp;<span class="post-category">trong <a href="/vi/categories/web/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>Web</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw" aria-hidden="true"></i>&nbsp;<time datetime="2025-08-21">2025-08-21</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden="true"></i>&nbsp;1610 từ&nbsp;
                <i class="far fa-clock fa-fw" aria-hidden="true"></i>&nbsp;8 phút&nbsp;</div>
        </div><div class="featured-image"><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/2025-08-21-wordpress-local-and-debugging/app.png"
        data-srcset="/2025-08-21-wordpress-local-and-debugging/app.png, /2025-08-21-wordpress-local-and-debugging/app.png 1.5x, /2025-08-21-wordpress-local-and-debugging/app.png 2x"
        data-sizes="auto"
        alt="/2025-08-21-wordpress-local-and-debugging/app.png"
        title="A powerful and the most popular content management system (CMS)." width="787" height="413" /></div><div class="details toc" id="toc-static"  data-kept="">
                <div class="details-summary toc-title">
                    <span>Nội dung</span>
                    <span><i class="details-icon fas fa-angle-right" aria-hidden="true"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#ecosystem">Ecosystem</a></li>
    <li><a href="#why-wordpress-hacking">Why WordPress Hacking?</a>
      <ul>
        <li><a href="#most-popular">Most Popular</a></li>
        <li><a href="#plugin-and-theme">Plugin and Theme</a></li>
      </ul>
    </li>
    <li><a href="#setup-wordpress-for-hacking">Setup WordPress for Hacking</a>
      <ul>
        <li><a href="#install-and-configure-wordpress">Install and configure WordPress</a>
          <ul>
            <li><a href="#install-dependencies">Install Dependencies</a></li>
            <li><a href="#install-wordpress">Install WordPress</a></li>
            <li><a href="#configure-apache-for-wordpress">Configure Apache for WordPress</a></li>
            <li><a href="#configure-database">Configure database</a></li>
            <li><a href="#configure-wordpress-to-connect-to-the-database">Configure WordPress to connect to the database</a></li>
            <li><a href="#configure-wordpress">Configure WordPress</a></li>
          </ul>
        </li>
        <li><a href="#setup-debug-on-vscode">Setup Debug on VSCode</a>
          <ul>
            <li><a href="#add-php-debug-extension-on-vs-code">Add PHP Debug extension on VS Code</a></li>
            <li><a href="#install-xdebug-on-ubuntu">Install Xdebug on Ubuntu</a></li>
            <li><a href="#configure-xdebug">Configure Xdebug</a></li>
            <li><a href="#configure-vscode-launchjson">Configure VSCode <code>launch.json</code></a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#extend">Extend</a>
      <ul>
        <li><a href="#required-version">Required Version</a></li>
        <li><a href="#wordpress-auto-update">WordPress Auto Update</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><hr>
<p><strong>WordPress</strong> là một hệ thống quản lý nội dung (CMS) mạnh mẽ và phổ biến nhất cho phép bạn tạo, quản lý và tùy chỉnh các trang web và blog một cách dễ dàng. Nó là open-source CMS, được xây dựng trên PHP và sử dụng cơ sở dữ liệu MySQL hoặc Maria DB.</p>
<ul>
<li>Ra đời năm 2003, ban đầu chỉ để viết blog, sau đó phát triển thành nền tảng tạo website, cửa hàng online, diễn đàn, landing page…</li>
<li>Hiện nay, hơn 40% website trên thế giới chạy bằng WordPress.</li>
</ul>
<p>Có 2 phiên bản WordPress:</p>
<ol>
<li>WordPress.com</li>
</ol>
<ul>
<li>Dịch vụ hosting do Automattic cung cấp</li>
<li>Bạn chỉ cần đăng ký tài khoản, không phải cài đặt</li>
<li>Hạn chế tùy chỉnh, muốn nâng cao thì phải trả phí</li>
</ul>
<ol start="2">
<li>WordPress.org</li>
</ol>
<ul>
<li>Mã nguồn mở, bạn tự tải về và cài đặt lên hosting/server riêng</li>
<li>Tùy chỉnh toàn diện, có thể cài plugin, theme, viết code, tạo website theo ý mình</li>
</ul>
<h2 id="ecosystem">Ecosystem</h2>
<ul>
<li>Core: CMS chính</li>
<li>Plugin: Một phần mềm bổ sung có thể được cài đặt trên trang web WordPress để mở rộng chức năng của nó và thêm các tính năng mới</li>
<li>Themes: Một phần mềm bổ sung đại diện cho sự xuất hiện trực quan và bố cục của một trang web WordPress</li>
</ul>
<hr>
<h2 id="why-wordpress-hacking">Why WordPress Hacking?</h2>
<p><a href="https://patchstack.com/whitepaper/state-of-wordpress-security-in-2024" target="_blank" rel="noopener noreffer ">State of WordPress Security in 2024</a></p>
<h3 id="most-popular">Most Popular</h3>
<ul>
<li>Hiện tại hơn 40% website trên toàn thế giới chạy WordPress</li>
<li>Nghĩa là hacker chỉ cần tìm ra một lỗ hổng phổ biến =&gt; có thể khai thác hàng triệu site cùng lúc</li>
<li>Giống như <code>“cá nhiều thì chài ở đó”</code></li>
</ul>
<h3 id="plugin-and-theme">Plugin and Theme</h3>
<ul>
<li>WordPress Core đã được xem xét trong 1 thời gian dài bởi hàng ngàn <strong>developers</strong> và <strong>researchers</strong>. Kết quả là rất khó để kẻ tấn công có thể đột nhập vào</li>
<li>Tuy nhiên, có hàng chục ngàn plugin và theme từ nhiều nguồn, chất lượng không đồng đều được sử dụng</li>
<li>Nhiều plugin code bảo mật kém, không còn được cập nhật. Hacker chỉ cần scan plugin/theme để tìm version lỗi thời, rồi khai thác</li>
</ul>
<hr>
<h2 id="setup-wordpress-for-hacking">Setup WordPress for Hacking</h2>
<p>Có rất nhiều cách để setup WorkPress, tìm kiếm bằng <strong>Google</strong> có thể cung cấp nhiều bài viết về nó. Ở đây tôi sẽ setup trên máy ảo <strong>Ubuntu (22.04)</strong>:</p>
<ul>
<li>Không ảnh hưởng đến các dịch vụ của máy thật</li>
<li>WordPress tương đối nhẹ để sử dụng trên máy ảo</li>
</ul>
<h3 id="install-and-configure-wordpress">Install and configure WordPress</h3>
<h4 id="install-dependencies">Install Dependencies</h4>
<p>Cài toàn bộ stack cần thiết để chạy WordPress (web server + database + PHP + các extension quan trọng).</p>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-shell">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="Sao chép vào bộ nhớ tạm"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt install apache2 <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                 ghostscript <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                 libapache2-mod-php <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                 mysql-server <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                 php <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                 php-bcmath <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                 php-curl <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                 php-imagick <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                 php-intl <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                 php-json <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                 php-mbstring <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                 php-mysql <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                 php-xml <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>                 php-zip</span></span></code></pre></div></div>
<h4 id="install-wordpress">Install WordPress</h4>
<p>Tải và cài mã nguồn WordPress vào thư mục web.</p>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-shell">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="Sao chép vào bộ nhớ tạm"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># Tạo folder để lưu trữ mã nguồn website</span>
</span></span><span class="line"><span class="cl">sudo mkdir -p /srv/www
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Đổi owner thành www-data, đây là user mặc định của Apache/Nginx để chạy web server</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Khi Apache/NGINX khởi động, nó không chạy bằng root (nguy hiểm vì có toàn quyền hệ thống), mà sẽ drop xuống chạy dưới quyền www-data.</span>
</span></span><span class="line"><span class="cl">sudo chown www-data: /srv/www
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Tải gói WordPress mới nhất từ trang chính thức</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Giải nén vao thưc mục /srv/www được tạo ở trên</span>
</span></span><span class="line"><span class="cl">curl https://wordpress.org/latest.tar.gz <span class="p">|</span> sudo -u www-data tar zx -C /srv/www</span></span></code></pre></div></div>
<p>Có thể tải phiên bản cụ thể bằng:</p>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-shell">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="Sao chép vào bộ nhớ tạm"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">curl https://wordpress.org/wordpress-6.6.2.tar.gz <span class="p">|</span> sudo -u www-data tar zx -C /srv/www</span></span></code></pre></div></div>
<blockquote>
<p>Cài từ <code>wordpress.org</code> là cách chuẩn nhất và ít rủi ro:</p>
<ul>
<li>Ubuntu có sẵn package <strong>wordpress</strong> trong repo. Nhưng nó thường cũ hơn nhiều so với bản chính thức trên <code>wordpress.org</code></li>
<li>Cộng đồng WordPress chỉ hỗ trợ khi bạn dùng bản chính thức từ <code>wordpress.org</code>, vì nếu bạn gặp lỗi do package của Ubuntu thì họ không giải quyết được.
{: .prompt-info }</li>
</ul>
</blockquote>
<h4 id="configure-apache-for-wordpress">Configure Apache for WordPress</h4>
<p>Tạo file <code>/etc/apache2/sites-available/wordpress.conf</code> cấu hình Apache cho WordPress:</p>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-text">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="Sao chép vào bộ nhớ tạm"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl"># Lắng nghe trên tất cả địa chỉ IP (*) tại port 80 (HTTP).
</span></span><span class="line"><span class="cl">&lt;VirtualHost *:80&gt;  
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    # Thư mục gốc của website (nơi chứa mã nguồn WordPress).
</span></span><span class="line"><span class="cl">    DocumentRoot /srv/www/wordpress 
</span></span><span class="line"><span class="cl">    &lt;Directory /srv/www/wordpress&gt;
</span></span><span class="line"><span class="cl">        Options FollowSymLinks
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        # Cho phép file .htaccess ghi đè một số thiết lập liên quan đến bảo mật và URL rewriting.
</span></span><span class="line"><span class="cl">        AllowOverride Limit Options FileInfo 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        # Khi truy cập thư mục, Apache sẽ tìm file index.php để hiển thị.
</span></span><span class="line"><span class="cl">        DirectoryIndex index.php 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        # Cho phép tất cả mọi người truy cập (cần cho website public).
</span></span><span class="line"><span class="cl">        Require all granted 
</span></span><span class="line"><span class="cl">    &lt;/Directory&gt;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    # Riêng thư mục wp-content (chứa plugin, theme, upload) cũng cho phép truy cập.
</span></span><span class="line"><span class="cl">    &lt;Directory /srv/www/wordpress/wp-content&gt; 
</span></span><span class="line"><span class="cl">        Options FollowSymLinks
</span></span><span class="line"><span class="cl">        Require all granted
</span></span><span class="line"><span class="cl">    &lt;/Directory&gt;
</span></span><span class="line"><span class="cl">&lt;/VirtualHost&gt;</span></span></code></pre></div></div>
<p><strong>Kích hoạt site WordPress</strong>:</p>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-shell">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="Sao chép vào bộ nhớ tạm"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo a2ensite wordpress</span></span></code></pre></div></div>
<ul>
<li><strong>a2ensite</strong> = <code>enable site config</code> (tạo symlink từ <code>/etc/apache2/sites-available/wordpress.conf</code> sang <code>/etc/apache2/sites-enabled/</code>)</li>
<li>Sau đó site wordpress sẽ được Apache load khi restart.</li>
</ul>
<p><strong>Kích hoạt module rewrite</strong>:</p>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-shell">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="Sao chép vào bộ nhớ tạm"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo a2enmod rewrite</span></span></code></pre></div></div>
<ul>
<li>WordPress cần module mod_rewrite để hỗ trợ <strong>Pretty Permalinks</strong> (ví dụ <code>/blog/hello-world/</code> thay vì <code>?p=123</code>)</li>
</ul>
<p><strong>Vô hiệu hóa site mặc định (Option)</strong>:</p>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-shell">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="Sao chép vào bộ nhớ tạm"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo a2dissite 000-default</span></span></code></pre></div></div>
<ul>
<li>Apache mặc định có site <code>000-default.conf</code> (chỉ hiển thị &ldquo;It works!&rdquo;)</li>
<li>Nếu không disable, site mặc định có thể chiếm port <code>80</code> trước WordPress</li>
</ul>
<p>👉 Hoặc nếu không muốn disable, có thể thêm ServerName vào VirtualHost WordPress để Apache phân biệt domain.</p>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-text">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="Sao chép vào bộ nhớ tạm"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">&lt;VirtualHost *:80&gt;
</span></span><span class="line"><span class="cl">    ServerName mywordpress.local
</span></span><span class="line"><span class="cl">    DocumentRoot /srv/www/wordpress
</span></span><span class="line"><span class="cl">    ...
</span></span><span class="line"><span class="cl">&lt;/VirtualHost&gt;</span></span></code></pre></div></div>
<p>Muốn chạy được thì phải cấu hình DNS hoặc sửa file hosts:</p>
<ul>
<li>Linux/Mac: <code>/etc/hosts</code></li>
<li>Windows: <code>C:\Windows\System32\drivers\etc\hosts</code></li>
</ul>
<p><strong>Reload Apache</strong>:</p>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-shell">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="Sao chép vào bộ nhớ tạm"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo service apache2 reload</span></span></code></pre></div></div>
<ul>
<li>Tải lại cấu hình mới mà không cần dừng server</li>
</ul>
<h4 id="configure-database">Configure database</h4>
<p>WordPress cần một cơ sở dữ liệu (MySQL/MariaDB) để lưu:</p>
<ul>
<li>Bài viết, trang, menu</li>
<li>Người dùng, mật khẩu (hash)</li>
<li>Cấu hình site</li>
<li>Plugins, themes settings</li>
</ul>
<p><strong>Mở MySQL với quyền root</strong>:</p>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-shell">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="Sao chép vào bộ nhớ tạm"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mysql -u root</span></span></code></pre></div></div>
<p><strong>Cấu hình MySQL</strong>:</p>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-sql">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="Sao chép vào bộ nhớ tạm"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="c1">-- Tạo database wordpress 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">CREATE</span><span class="w"> </span><span class="k">DATABASE</span><span class="w"> </span><span class="n">wordpress</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- Tạo user riêng cho wordpress
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">CREATE</span><span class="w"> </span><span class="k">USER</span><span class="w"> </span><span class="n">wordpress</span><span class="o">@</span><span class="n">localhost</span><span class="w"> </span><span class="n">IDENTIFIED</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="s1">&#39;&lt;your-password&gt;&#39;</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- Cấp quyền cho user WordPress
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">GRANT</span><span class="w"> </span><span class="k">SELECT</span><span class="p">,</span><span class="k">INSERT</span><span class="p">,</span><span class="k">UPDATE</span><span class="p">,</span><span class="k">DELETE</span><span class="p">,</span><span class="k">CREATE</span><span class="p">,</span><span class="k">DROP</span><span class="p">,</span><span class="k">ALTER</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">wordpress</span><span class="p">.</span><span class="o">*</span><span class="w"> </span><span class="k">TO</span><span class="w"> </span><span class="n">wordpress</span><span class="o">@</span><span class="n">localhost</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- Làm mới lại quyền
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="n">FLUSH</span><span class="w"> </span><span class="k">PRIVILEGES</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">Query</span><span class="w"> </span><span class="n">OK</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">00</span><span class="w"> </span><span class="n">sec</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- Thoát
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="n">quit</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">Bye</span></span></span></code></pre></div></div>
<p><strong>Khởi động lại dịch vụ</strong>:</p>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-shell">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="Sao chép vào bộ nhớ tạm"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo service mysql start</span></span></code></pre></div></div>
<h4 id="configure-wordpress-to-connect-to-the-database">Configure WordPress to connect to the database</h4>
<p><strong>Copy file cấu hình mẫu</strong>:</p>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-shell">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="Sao chép vào bộ nhớ tạm"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo -u www-data cp /srv/www/wordpress/wp-config-sample.php /srv/www/wordpress/wp-config.php</span></span></code></pre></div></div>
<ul>
<li>WordPress khi tải về có sẵn file wp-config-sample.php</li>
<li>Bạn copy nó thành wp-config.php để làm file cấu hình chính cho site</li>
</ul>
<p><strong>Chỉnh sửa thông tin database</strong>:</p>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-shell">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="Sao chép vào bộ nhớ tạm"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo -u www-data sed -i <span class="s1">&#39;s/database_name_here/wordpress/&#39;</span> /srv/www/wordpress/wp-config.php
</span></span><span class="line"><span class="cl">sudo -u www-data sed -i <span class="s1">&#39;s/username_here/wordpress/&#39;</span> /srv/www/wordpress/wp-config.php
</span></span><span class="line"><span class="cl">sudo -u www-data sed -i <span class="s1">&#39;s/password_here/&lt;your-password&gt;/&#39;</span> /srv/www/wordpress/wp-config.php</span></span></code></pre></div></div>
<ul>
<li>Đây là 3 dòng thay thế text trong file <code>wp-config.php</code>:
<ul>
<li><code>database_name_here</code> =&gt; <code>wordpress</code> (tên DB đã tạo ở bước trước)</li>
<li><code>username_here</code> =&gt; <code>wordpress</code> (user MySQL đã tạo)</li>
<li><code>password_here</code> =&gt; <code>&lt;your-password&gt;</code> (password đã set)</li>
</ul>
</li>
<li>Khi Apache chạy WordPress, nó sẽ đọc file này để biết dùng user nào + DB nào để kết nối MySQL</li>
</ul>
<p><strong>Thêm Secret Keys và Salts</strong>:</p>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-shell">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="Sao chép vào bộ nhớ tạm"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo -u www-data nano /srv/www/wordpress/wp-config.php</span></span></code></pre></div></div>
<p>👉 Đây là chuỗi bí mật mà WordPress dùng để:</p>
<ul>
<li>Mã hóa session cookies</li>
<li>Sinh ra token (nonce) chống CSRF</li>
<li>Ngăn chặn tấn công kiểu “known secret” (ví dụ kẻ tấn công đoán được secret mặc định để giả mạo login)</li>
</ul>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-php">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="Sao chép vào bộ nhớ tạm"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="nx">define</span><span class="p">(</span> <span class="s1">&#39;AUTH_KEY&#39;</span><span class="p">,</span>         <span class="s1">&#39;put your unique phrase here&#39;</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">define</span><span class="p">(</span> <span class="s1">&#39;SECURE_AUTH_KEY&#39;</span><span class="p">,</span>  <span class="s1">&#39;put your unique phrase here&#39;</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">define</span><span class="p">(</span> <span class="s1">&#39;LOGGED_IN_KEY&#39;</span><span class="p">,</span>    <span class="s1">&#39;put your unique phrase here&#39;</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">define</span><span class="p">(</span> <span class="s1">&#39;NONCE_KEY&#39;</span><span class="p">,</span>        <span class="s1">&#39;put your unique phrase here&#39;</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">define</span><span class="p">(</span> <span class="s1">&#39;AUTH_SALT&#39;</span><span class="p">,</span>        <span class="s1">&#39;put your unique phrase here&#39;</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">define</span><span class="p">(</span> <span class="s1">&#39;SECURE_AUTH_SALT&#39;</span><span class="p">,</span> <span class="s1">&#39;put your unique phrase here&#39;</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">define</span><span class="p">(</span> <span class="s1">&#39;LOGGED_IN_SALT&#39;</span><span class="p">,</span>   <span class="s1">&#39;put your unique phrase here&#39;</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">define</span><span class="p">(</span> <span class="s1">&#39;NONCE_SALT&#39;</span><span class="p">,</span>       <span class="s1">&#39;put your unique phrase here&#39;</span> <span class="p">);</span></span></span></code></pre></div></div>
<p>Thay đổi nó bằng các chuỗi random sau: <a href="https://api.wordpress.org/secret-key/1.1/salt/" target="_blank" rel="noopener noreffer ">https://api.wordpress.org/secret-key/1.1/salt/</a></p>
<h4 id="configure-wordpress">Configure WordPress</h4>
<p>Truy cập <a href="http://localhost" target="_blank" rel="noopener noreffer ">http://localhost</a>, đặt <strong>site title</strong>, <strong>username</strong>, <strong>password</strong>, <strong>email</strong> cho user <code>admin</code></p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://ubuntucommunity.s3.us-east-2.amazonaws.com/original/2X/e/ebe4d6066e0c32f14beca85ffd53e5915a4ab278.png"
        data-srcset="https://ubuntucommunity.s3.us-east-2.amazonaws.com/original/2X/e/ebe4d6066e0c32f14beca85ffd53e5915a4ab278.png, https://ubuntucommunity.s3.us-east-2.amazonaws.com/original/2X/e/ebe4d6066e0c32f14beca85ffd53e5915a4ab278.png 1.5x, https://ubuntucommunity.s3.us-east-2.amazonaws.com/original/2X/e/ebe4d6066e0c32f14beca85ffd53e5915a4ab278.png 2x"
        data-sizes="auto"
        alt="https://ubuntucommunity.s3.us-east-2.amazonaws.com/original/2X/e/ebe4d6066e0c32f14beca85ffd53e5915a4ab278.png"
        title="Configure WordPress" /></p>
<h3 id="setup-debug-on-vscode">Setup Debug on VSCode</h3>
<p>Để hiểu được luồng của trang web chạy và xử lí ở mỗi request, ta cần phải debug nó.</p>
<h4 id="add-php-debug-extension-on-vs-code">Add PHP Debug extension on VS Code</h4>
<p>Vào <strong>Extensions (Ctrl+Shift+X)</strong> =&gt; tìm <strong>PHP Debug (by Felix Becker)</strong> =&gt; <strong>Install</strong>.
Extension này kết nối với <strong>Xdebug</strong>.</p>
<h4 id="install-xdebug-on-ubuntu">Install Xdebug on Ubuntu</h4>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-shell">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="Sao chép vào bộ nhớ tạm"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt install php-xdebug -y</span></span></code></pre></div></div>
<p>Kiểm tra cài chưa:</p>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-shell">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="Sao chép vào bộ nhớ tạm"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">php -v</span></span></code></pre></div></div>
<p>Nếu có dòng <code>with Xdebug v3.x.x</code> nghĩa là đã OK.</p>
<h4 id="configure-xdebug">Configure Xdebug</h4>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-shell">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="Sao chép vào bộ nhớ tạm"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo nano /etc/php/&lt;version&gt;/apache2/php.ini</span></span></code></pre></div></div>
<p>Thêm vào cuối file</p>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-ini">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="Sao chép vào bộ nhớ tạm"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ini" data-lang="ini"><span class="line"><span class="cl"><span class="na">zend_extension</span><span class="o">=</span><span class="s">xdebug.so</span>
</span></span><span class="line"><span class="cl"><span class="na">xdebug.mode</span><span class="o">=</span><span class="s">debug</span>
</span></span><span class="line"><span class="cl"><span class="na">xdebug.start_with_request</span><span class="o">=</span><span class="s">yes</span>
</span></span><span class="line"><span class="cl"><span class="na">xdebug.client_host</span><span class="o">=</span><span class="s">127.0.0.1</span>
</span></span><span class="line"><span class="cl"><span class="na">xdebug.client_port</span><span class="o">=</span><span class="s">9003</span></span></span></code></pre></div></div>
<p>Port mặc định mới của Xdebug v3 là <strong>9003</strong>.</p>
<p>Sau đó restart Apache:</p>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-shell">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="Sao chép vào bộ nhớ tạm"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo systemctl restart apache2</span></span></code></pre></div></div>
<h4 id="configure-vscode-launchjson">Configure VSCode <code>launch.json</code></h4>
<p>Mở thư mục chứa trang web wordpress bằng VSCode</p>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="Sao chép vào bộ nhớ tạm"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><pre tabindex="0"><code>code /srv/www/wordpress</code></pre></div>
<p>Trong <strong>VS Code</strong> =&gt; <strong>Run and Debug (Ctrl+Shift+D)</strong> =&gt; tạo file <code>launch.json</code> với nội dung:</p>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-json">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="Sao chép vào bộ nhớ tạm"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;version&#34;</span><span class="p">:</span> <span class="s2">&#34;0.2.0&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;configurations&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;Listen for Xdebug&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;php&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;request&#34;</span><span class="p">:</span> <span class="s2">&#34;launch&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;port&#34;</span><span class="p">:</span> <span class="mi">9003</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;pathMappings&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;/srv/www/wordpress&#34;</span><span class="p">:</span> <span class="s2">&#34;${workspaceFolder}&#34;</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div></div>
<p><code>pathMappings</code>: ánh xạ thư mục trong <strong>container/server</strong> (<code>/srv/www/wordpress</code>) về thư mục <strong>local</strong> của trong VS Code.</p>
<hr>
<p>Như vậy là đã hoàn thành setup WordPress trên local kết hợp Debug nó trên VSCode.</p>
<hr>
<h2 id="extend">Extend</h2>
<h3 id="required-version">Required Version</h3>
<p>Mỗi phiên bản WordPress thường đi kèm 1 phiên bản PHP thích hợp. Nên kiểm tra tính tương thích này để quá trình setup không bị lỗi.</p>
<h3 id="wordpress-auto-update">WordPress Auto Update</h3>
<p>Từ WordPress <strong>3.7 trở đi</strong> (2013), WordPress có cơ chế tự động cập nhật (<strong>automatic background updates</strong>) cho:</p>
<ul>
<li>Bản vá bảo mật (security release).</li>
<li>Bản bảo trì (maintenance release).</li>
<li>Không tự động update major version (trừ khi bật rõ ràng).</li>
</ul>
<p>Hệ thống kiểm tra với server <strong>api.wordpress.org</strong> để xem có bản vá nào mới sẽ tự động nâng cấp background lên. Việc này diễn ra rất nhanh sau khi setup, nên bạn thấy code đổi khác so với source gốc.</p>
<p>Quá trình setup diễn ra khi truy cập <strong>/wp-admin/install.php</strong></p>
<p>Để vô hiệu hóa cơ chế cập nhật tự động này, thêm dòng sau vào <code>wp-config.php</code>:</p>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-php">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="Sao chép vào bộ nhớ tạm"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="nx">define</span><span class="p">(</span> <span class="s1">&#39;WP_AUTO_UPDATE_CORE&#39;</span><span class="p">,</span> <span class="k">false</span> <span class="p">);</span></span></span></code></pre></div></div>
<hr>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Cập nhật ngày 2025-08-21</span>
            </div></div>
        <div class="post-info-line">
            <div class="post-info-md"><span>
                            <a class="link-to-markdown" href="/vi/2025-08-21-wordpress-local-and-debugging/index.md" target="_blank">Đọc với định dạng Markdown</a>
                        </span></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="Chia sẻ trên X" data-sharer="x" data-url="http://localhost:1313/vi/2025-08-21-wordpress-local-and-debugging/" data-title="WordPress Local and Debugging" data-hashtags="cms,php,wordpress"><i class="fab fa-x-twitter fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Chia sẻ trên Threads" data-sharer="threads" data-url="http://localhost:1313/vi/2025-08-21-wordpress-local-and-debugging/" data-title="WordPress Local and Debugging"><i class="fab fa-threads fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Chia sẻ trên Facebook" data-sharer="facebook" data-url="http://localhost:1313/vi/2025-08-21-wordpress-local-and-debugging/" data-hashtag="cms"><i class="fab fa-facebook-square fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Chia sẻ trên Hacker News" data-sharer="hackernews" data-url="http://localhost:1313/vi/2025-08-21-wordpress-local-and-debugging/" data-title="WordPress Local and Debugging"><i class="fab fa-hacker-news fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Chia sẻ trên Line" data-sharer="line" data-url="http://localhost:1313/vi/2025-08-21-wordpress-local-and-debugging/" data-title="WordPress Local and Debugging"><i data-svg-src="/lib/simple-icons/icons/line.min.svg" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Chia sẻ trên 微博" data-sharer="weibo" data-url="http://localhost:1313/vi/2025-08-21-wordpress-local-and-debugging/" data-title="WordPress Local and Debugging" data-image="app.png"><i class="fab fa-weibo fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Chia sẻ trên Diaspora" data-sharer="diaspora" data-url="http://localhost:1313/vi/2025-08-21-wordpress-local-and-debugging/" data-title="WordPress Local and Debugging" data-description="A powerful and the most popular content management system (CMS)."><i class="fab fa-diaspora fa-fw" aria-hidden="true"></i></a><a href="https://t.me/share/url?url=http%3a%2f%2flocalhost%3a1313%2fvi%2f2025-08-21-wordpress-local-and-debugging%2f&amp;text=WordPress%20Local%20and%20Debugging" target="_blank" title="Chia sẻ trên Telegram"><i class="fab fa-telegram fa-fw" aria-hidden="true"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/vi/tags/cms/">Cms</a>,&nbsp;<a href="/vi/tags/php/">Php</a>,&nbsp;<a href="/vi/tags/wordpress/">Wordpress</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Quay lại</a></span>&nbsp;|&nbsp;<span><a href="/vi/">Trang chủ</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/vi/2025-08-19-github-pages-with-jekyll-themes-and-giscus/" class="prev" rel="prev" title="Github Pages with Jekyll themes and Giscus"><i class="fas fa-angle-left fa-fw" aria-hidden="true"></i>Github Pages with Jekyll themes and Giscus</a>
            <a href="/vi/2025-09-21-cve-2025-39566/" class="next" rel="next" title="CVE-2025-39566 Analysis &amp; POC">CVE-2025-39566 Analysis & POC<i class="fas fa-angle-right fa-fw" aria-hidden="true"></i></a></div>
</div>
</article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2025</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="https://w41bu1.github.io" target="_blank">w41bu1</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Lên trên">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a>
        </div>

        <div id="fixed-buttons-hidden"><a href="#" id="view-comments" class="fixed-button" title="Xem bình luận">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><link rel="stylesheet" href="/lib/lightgallery/css/lightgallery-bundle.min.css"><script src="/lib/autocomplete/autocomplete.min.js"></script><script src="/lib/algoliasearch/lite/browser.umd.js"></script><script src="/lib/lazysizes/lazysizes.min.js"></script><script src="/lib/lightgallery/lightgallery.min.js"></script><script src="/lib/lightgallery/plugins/thumbnail/lg-thumbnail.min.js"></script><script src="/lib/lightgallery/plugins/zoom/lg-zoom.min.js"></script><script src="/lib/clipboard/clipboard.min.js"></script><script src="/lib/sharer/sharer.min.js"></script><script>window.config={"comment":{},"lightgallery":true,"search":{"algoliaAppID":"GZT24PWKNT","algoliaIndex":"index","algoliaSearchKey":"634ab679e825b815de2663de38908f9d","highlightTag":"em","maxResultLength":10,"noResultsFound":"Không tìm thấy","snippetLength":50,"type":"algolia"}};</script><script src="/js/theme.min.js"></script></body>
</html>
